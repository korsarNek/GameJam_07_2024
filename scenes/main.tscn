[gd_scene load_steps=24 format=3 uid="uid://cg5lm5tdcbvc1"]

[ext_resource type="Script" path="res://scripts/level.cs" id="1_00kbi"]
[ext_resource type="PackedScene" uid="uid://4to83lc18kr5" path="res://components/blockade.tscn" id="2_tq6jc"]
[ext_resource type="PackedScene" uid="uid://b6sgipwir8lyy" path="res://components/player.tscn" id="3_28ojr"]
[ext_resource type="Script" path="res://scripts/unit.cs" id="4_rjni1"]
[ext_resource type="Script" path="res://scripts/camera.cs" id="4_x6r5g"]
[ext_resource type="PackedScene" uid="uid://byg1hvmspp08g" path="res://components/buildings/building1.tscn" id="5_l88om"]
[ext_resource type="Script" path="res://scripts/movement_grid.cs" id="5_m3nry"]
[ext_resource type="PackedScene" uid="uid://pxjkyrhe2bo" path="res://components/electrical_box.tscn" id="5_vglqp"]
[ext_resource type="PackedScene" uid="uid://b6s75enqys88m" path="res://components/dumpster.tscn" id="6_j3d1p"]
[ext_resource type="AudioStream" uid="uid://dcag46xw2k7cd" path="res://audio/music/fight/fight1.mp3" id="7_xl3g2"]
[ext_resource type="MeshLibrary" uid="uid://b8ertjexouwxy" path="res://meshes/road/road lib.tres" id="8_iafp0"]
[ext_resource type="AudioStream" uid="uid://caxlgx2i24a1n" path="res://audio/music/fight/fight2.mp3" id="8_wo6ou"]
[ext_resource type="PackedScene" uid="uid://dhh6wsu5ynq3o" path="res://components/pallet.tscn" id="10_ff6f4"]
[ext_resource type="PackedScene" uid="uid://ddbxgfny7nfn0" path="res://components/cardboard.tscn" id="11_i1m4w"]
[ext_resource type="PackedScene" uid="uid://bsscl7t15sfj2" path="res://components/concrete_blockade.tscn" id="12_20ubm"]
[ext_resource type="PackedScene" uid="uid://bpsatlqqfbmyp" path="res://components/bin.tscn" id="13_ostgc"]
[ext_resource type="PackedScene" uid="uid://cvxcq00kns06p" path="res://components/trashbag.tscn" id="14_cdc6p"]
[ext_resource type="PackedScene" uid="uid://df6jsky76jdrc" path="res://components/stop_sign.tscn" id="15_vnr7n"]
[ext_resource type="PackedScene" uid="uid://db4261so6nnfd" path="res://components/fence_long.tscn" id="16_a6a78"]
[ext_resource type="AudioStream" uid="uid://dssqf00yc8voi" path="res://audio/music/fight/fight3.mp3" id="20_nxg78"]

[sub_resource type="SphereShape3D" id="SphereShape3D_5pj3x"]

[sub_resource type="NavigationMesh" id="NavigationMesh_n2gdj"]
vertices = PackedVector3Array(-4.49586, 19.8374, -24.5759, -4.49586, 19.8374, -36.3259, -16.7459, 19.8374, -36.5759, -16.9959, 19.8374, -24.5759, 12.7541, 0.337379, -29.8259, 13.0041, 0.337379, -28.5759, 13.2541, 0.337379, -28.5759, 13.2541, 0.337379, -32.8259, -3.49586, 0.337379, -32.8259, -3.49586, 0.337379, -29.3259, 12.7541, 0.337379, -29.8259, 13.2541, 0.337379, -32.8259, 9.25414, 2.33738, -28.8259, 9.25414, 2.33738, -28.3259, 12.0041, 2.33738, -28.3259, 12.0041, 2.33738, -28.8259, 1.00414, 2.33738, -28.5759, 1.00414, 2.33738, -28.0759, 3.75414, 2.33738, -28.0759, 3.75414, 2.33738, -28.5759, 5.00414, 2.33738, -28.5759, 5.00414, 2.33738, -28.0759, 8.00414, 2.33738, -28.0759, 8.00414, 2.33738, -28.5759, 13.2541, 0.337379, -28.5759, 13.0041, 0.337379, -28.5759, 12.7541, 0.337379, -27.3259, 13.2541, 0.337379, -19.3259, 13.0041, 0.337379, -17.8259, 13.7541, 0.337379, -19.0759, 13.2541, 0.337379, -19.3259, -3.74586, 0.337379, -13.8259, -2.24586, 0.337379, -13.8259, -2.24586, 0.337379, -15.8259, -3.49586, 0.337379, -26.8259, -3.49586, 0.337379, -26.8259, -2.24586, 0.337379, -15.8259, -0.745861, 0.337379, -16.0759, 13.0041, 0.337379, -17.8259, 13.2541, 0.337379, -19.3259, 12.7541, 0.337379, -27.3259, -3.49586, 0.337379, -26.8259, -0.745861, 0.337379, -16.0759, -0.495861, 0.337379, -15.5759, -3.24586, 2.33738, -28.3259, -3.24586, 2.33738, -27.8259, -0.245861, 2.33738, -27.8259, -0.245861, 2.33738, -28.3259, -4.49586, 19.8374, -24.5759, -16.9959, 19.8374, -24.5759, -17.2459, 19.8374, -22.0759, -4.49586, 19.8374, -24.5759, -17.2459, 19.8374, -22.0759, -17.9959, 19.8374, -21.5759, -19.2459, 19.8374, -5.8259, -4.74586, 19.8374, -5.8259, -17.9959, 19.8374, -21.5759, -19.4959, 19.8374, -21.5759, -19.2459, 19.8374, -5.8259, -19.4959, 19.8374, -21.5759, -29.4959, 19.8374, -21.5759, -29.4959, 19.8374, -19.3259, -29.2459, 19.8374, -5.8259, -19.2459, 19.8374, -5.8259, 13.0041, 0.337379, -17.8259, 27.2541, 0.337379, -5.5759, 27.2541, 0.337379, -19.0759, 13.7541, 0.337379, -19.0759, -2.49586, 0.337379, -5.5759, -2.49586, 0.337379, -4.3259, -2.24586, 0.337379, -4.3259, -0.745861, 0.337379, -4.5759, -2.49586, 0.337379, -12.3259, -2.24586, 0.337379, -13.8259, -3.74586, 0.337379, -13.8259, -3.74586, 0.337379, -6.3259, -0.745861, 0.337379, -12.0759, -0.745861, 0.337379, -4.5759, -0.495861, 0.337379, -3.5759, -3.74586, 0.337379, -6.3259, -2.49586, 0.337379, -5.5759, -0.745861, 0.337379, -4.5759, -0.745861, 0.337379, -12.0759, -2.49586, 0.337379, -12.3259, -0.495861, 0.337379, -3.5759, 9.50414, 0.337379, -3.3259, 9.75414, 0.337379, -3.8259, 13.0041, 0.337379, -17.8259, -0.495861, 0.337379, -15.5759, -0.745861, 0.337379, -12.0759, 11.7541, 0.337379, -3.3259, 27.7541, 0.337379, -5.0759, 27.2541, 0.337379, -5.5759, 13.0041, 0.337379, -17.8259, 11.5041, 0.337379, -3.8259, 13.0041, 0.337379, -17.8259, 9.75414, 0.337379, -3.8259, 11.5041, 0.337379, -3.8259, -12.7459, 0.337379, -2.3259, -11.7459, 0.337379, -2.5759, -11.7459, 0.337379, -4.8259, -31.7459, 0.337379, -5.0759, -11.7459, 0.587379, 12.1741, -11.7459, 0.337379, 1.9241, -12.7459, 0.337379, 1.6741, -12.7459, 0.337379, 1.6741, -31.7459, 0.337379, -5.0759, -31.7459, 0.337379, 12.1741, -11.7459, 0.587379, 12.1741, -12.7459, 0.337379, 1.6741, -12.7459, 0.337379, -2.3259, -31.7459, 0.337379, -5.0759, 11.7541, 0.337379, -3.3259, 12.0041, 0.337379, 2.6741, 13.7541, 0.587379, 12.1741, 28.7541, 0.337379, 12.1741, 29.0041, 0.337379, -5.0759, 27.7541, 0.337379, -5.0759, 40.7541, 0.337379, 12.1741, 40.7541, 0.337379, -5.0759, 29.0041, 0.337379, -5.0759, 28.7541, 0.337379, 12.1741, -2.24586, 0.337379, -3.3259, -2.24586, 0.337379, -4.3259, -2.49586, 0.337379, -4.3259, -3.24586, 0.337379, -3.5759, -1.74586, 0.337379, -3.0759, -3.24586, 0.337379, -3.5759, -7.24586, 0.337379, -3.5759, -10.9959, 0.337379, 1.6741, -11.7459, 0.587379, 12.1741, -4.24586, 0.587379, 12.1741, -1.74586, 0.337379, -3.0759, -2.24586, 0.337379, -3.3259, -3.24586, 0.337379, -3.5759, -11.7459, 0.337379, -4.8259, -11.7459, 0.337379, -2.5759, -10.9959, 0.337379, -2.3259, -8.99586, 0.337379, -3.8259, -9.24586, 0.337379, -4.8259, -10.9959, 0.337379, 1.6741, -11.7459, 0.337379, 1.9241, -11.7459, 0.587379, 12.1741, -4.24586, 0.587379, 12.1741, -3.99586, 0.587379, 12.6741, -1.74586, 0.337379, -3.0759, -7.24586, 0.337379, -3.5759, -8.99586, 0.337379, -3.8259, -10.9959, 0.337379, -2.3259, -10.9959, 0.337379, 1.6741, 13.7541, 0.587379, 12.1741, 12.0041, 0.337379, 2.6741, 11.7541, 0.337379, 3.1741, 13.2541, 0.587379, 12.4241, 9.75414, 0.337379, 2.9241, -0.745861, 0.337379, -3.0759, -1.74586, 0.337379, -3.0759, -3.99586, 0.587379, 12.6741, -3.99586, 0.587379, 14.1741, 13.2541, 0.587379, 14.1741, 13.2541, 0.587379, 12.4241, 11.7541, 0.337379, 3.1741, 9.75414, 0.337379, 2.9241, 13.2541, 0.587379, 14.1741, 9.50414, 0.337379, -3.3259, -0.495861, 0.337379, -3.5759, -0.745861, 0.337379, -3.0759, 9.75414, 0.337379, 2.9241, -3.99586, 0.587379, 14.1741, -4.24586, 0.337379, 39.6741, 13.2541, 0.337379, 39.6741, 13.2541, 0.587379, 14.1741)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 11), PackedInt32Array(15, 14, 12), PackedInt32Array(12, 14, 13), PackedInt32Array(19, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(23, 22, 20), PackedInt32Array(20, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(30, 29, 28), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(37, 36, 35), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 43), PackedInt32Array(40, 43, 42), PackedInt32Array(40, 42, 41), PackedInt32Array(47, 46, 44), PackedInt32Array(44, 46, 45), PackedInt32Array(50, 49, 48), PackedInt32Array(52, 51, 53), PackedInt32Array(53, 51, 55), PackedInt32Array(53, 55, 54), PackedInt32Array(58, 57, 56), PackedInt32Array(60, 59, 61), PackedInt32Array(61, 59, 62), PackedInt32Array(62, 59, 63), PackedInt32Array(67, 66, 64), PackedInt32Array(64, 66, 65), PackedInt32Array(69, 68, 70), PackedInt32Array(70, 68, 71), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(78, 77, 76), PackedInt32Array(80, 79, 81), PackedInt32Array(81, 79, 82), PackedInt32Array(82, 79, 83), PackedInt32Array(85, 84, 86), PackedInt32Array(86, 84, 89), PackedInt32Array(86, 89, 88), PackedInt32Array(86, 88, 87), PackedInt32Array(94, 93, 90), PackedInt32Array(90, 93, 92), PackedInt32Array(90, 92, 91), PackedInt32Array(97, 96, 95), PackedInt32Array(99, 98, 100), PackedInt32Array(100, 98, 101), PackedInt32Array(104, 103, 102), PackedInt32Array(108, 107, 105), PackedInt32Array(105, 107, 106), PackedInt32Array(111, 110, 109), PackedInt32Array(113, 112, 114), PackedInt32Array(114, 112, 115), PackedInt32Array(115, 112, 117), PackedInt32Array(115, 117, 116), PackedInt32Array(119, 118, 120), PackedInt32Array(120, 118, 121), PackedInt32Array(123, 122, 124), PackedInt32Array(124, 122, 125), PackedInt32Array(127, 126, 128), PackedInt32Array(128, 126, 129), PackedInt32Array(129, 126, 131), PackedInt32Array(129, 131, 130), PackedInt32Array(134, 133, 132), PackedInt32Array(136, 135, 137), PackedInt32Array(137, 135, 138), PackedInt32Array(138, 135, 139), PackedInt32Array(142, 141, 140), PackedInt32Array(145, 144, 143), PackedInt32Array(147, 146, 148), PackedInt32Array(148, 146, 149), PackedInt32Array(153, 152, 150), PackedInt32Array(150, 152, 151), PackedInt32Array(155, 154, 156), PackedInt32Array(156, 154, 157), PackedInt32Array(157, 154, 158), PackedInt32Array(158, 154, 159), PackedInt32Array(161, 160, 162), PackedInt32Array(162, 160, 163), PackedInt32Array(165, 164, 166), PackedInt32Array(166, 164, 167), PackedInt32Array(171, 170, 168), PackedInt32Array(168, 170, 169)]
geometry_parsed_geometry_type = 1
geometry_collision_mask = 4294967289
agent_height = 2.0
agent_radius = 0.4
agent_max_climb = 0.5
filter_walkable_low_height_spans = true

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_i7shl"]
streams_count = 3
stream_0/stream = ExtResource("7_xl3g2")
stream_0/weight = 1.0
stream_1/stream = ExtResource("8_wo6ou")
stream_1/weight = 1.0
stream_2/stream = ExtResource("20_nxg78")
stream_2/weight = 1.0

[node name="Node3D" type="Node3D"]
script = ExtResource("1_00kbi")

[node name="Player" parent="." groups=["units"] instance=ExtResource("3_28ojr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.4779, 0.190433, 0)
script = ExtResource("4_rjni1")

[node name="Camera" type="CharacterBody3D" parent="."]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 0, 0)
script = ExtResource("4_x6r5g")
MovementSpeed = 15.0
ZoomSpeed = 6.0
ZoomMinimum = 5.0
ZoomMaximum = 15.0

[node name="Camera3D" type="Camera3D" parent="Camera"]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 10, 5)
current = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="Camera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 5)
shape = SubResource("SphereShape3D_5pj3x")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.157792, -0.942618, 0.294232, 0.445493, 0.333873, 0.830702, -0.88127, 0, 0.472612, 5.45065, 6.26307, 0)
light_bake_mode = 1
shadow_enabled = true

[node name="Node3D5" parent="." instance=ExtResource("11_i1m4w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.9623, 0.266448, -4.74945)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_n2gdj")

[node name="Node3D3" parent="NavigationRegion3D" instance=ExtResource("5_vglqp")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.50553, 0.192048, -14.3976)

[node name="Blockade" parent="NavigationRegion3D" groups=["obstacles"] instance=ExtResource("2_tq6jc")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 10.7416, 0, -2.27318)

[node name="Blockade" parent="NavigationRegion3D/Blockade" groups=["obstacles"] instance=ExtResource("2_tq6jc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.010501, 0, -2.00082)

[node name="Blockade" parent="NavigationRegion3D/Blockade/Blockade" groups=["obstacles"] instance=ExtResource("2_tq6jc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0400878, -9.53674e-07, -2.08384)

[node name="Node3D" parent="NavigationRegion3D" instance=ExtResource("5_l88om")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.1819, 0, -21.714)

[node name="Node3D2" parent="NavigationRegion3D" instance=ExtResource("6_j3d1p")]
transform = Transform3D(-4.80825e-08, 0, -1.1, 0, 1.1, 0, 1.1, 0, -4.80825e-08, -5.37155, -0.0819154, -4.97595)

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
mesh_library = ExtResource("8_iafp0")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(4, 3, 1048578, 4, 65513, 1048582, 30, 3, 6, 65514, 3, 6, 4, 29, 1441798, 15, 65527, 1441799, 15, 65520, 1441799, 22, 65527, 1441799, 22, 65520, 1441799)
}

[node name="Node3D4" parent="NavigationRegion3D" instance=ExtResource("10_ff6f4")]
transform = Transform3D(2, 0, 0, 0, 0.59155, -1.91052, 0, 1.91052, 0.59155, -7.62554, 1.30355, -5.12963)

[node name="Node3D6" parent="NavigationRegion3D" instance=ExtResource("12_20ubm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.65312, 0.143921, -28.1305)

[node name="Node3D2" parent="NavigationRegion3D/Node3D6" instance=ExtResource("12_20ubm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.10878, 0, -0.133083)

[node name="Node3D2" parent="NavigationRegion3D/Node3D6/Node3D2" instance=ExtResource("12_20ubm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.10878, 0, -0.133083)

[node name="Node3D2" parent="NavigationRegion3D/Node3D6/Node3D2/Node3D2" instance=ExtResource("12_20ubm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.10878, 0, -0.133083)

[node name="Bin" parent="NavigationRegion3D" instance=ExtResource("13_ostgc")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -1.4486, 0.194945, -12.9852)

[node name="Trashbag" parent="NavigationRegion3D" instance=ExtResource("14_cdc6p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.88844, 0, -4.92549)

[node name="StopSign" parent="NavigationRegion3D" instance=ExtResource("15_vnr7n")]
transform = Transform3D(-2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, -1.45467, 0, -3.85087)

[node name="FenceLong" parent="NavigationRegion3D" instance=ExtResource("16_a6a78")]
transform = Transform3D(-2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, -11.8828, 0.0214547, -0.302626)

[node name="MovementGrid" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.290435, 0)
script = ExtResource("5_m3nry")

[node name="AudioStreamPlayer2" type="AudioStreamPlayer" parent="."]
stream = SubResource("AudioStreamRandomizer_i7shl")
autoplay = true
bus = &"Music"

[node name="Node3D6" parent="." instance=ExtResource("11_i1m4w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.62287, 0.266447, -1.03334)
